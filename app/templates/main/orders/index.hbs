<h1>Bestellingen</h1>

<div class="orders-data-table">
  <Order::DataTableFilter @offerNumber={{offerNumber}} @reference={{reference}} @requestNumber={{requestNumber}} @cName={{cName}} @cStreet={{cStreet}} @cPostalCode={{cPostalCode}} @cCity={{cCity}} @cTelephone={{cTelephone}} @bName={{bName}} @bPostalCode={{bPostalCode}} @bCity={{bCity}} @bStreet={{bStreet}} @withoutInvoice={{withoutInvoice}} @onChange={{action "applyFilter"}} />

  <DataTable @content={{model}} @isLoading={{isLoadingModel}} @noDataMessage="Geen resultaten" @sort={{sort}} @page={{page}} @size={{size}} @onClickRow={{action "clickRow"}} as |t|>
    <t.content as |c|>
      <c.header>
        <th>Aanvraag</th>
        <ThSortable @field="offer-number" @currentSorting={{sort}} @label="Offerte" />
        <ThSortable @field="order-date" @currentSorting={{sort}} @label="Datum" />
        <th>Bezoeker</th>
        <th><!-- customer / building --></th>
        <th>Naam</th>
        <th>Straat</th>
        <th>Postcode</th>
        <th>Gemeente</th>
      </c.header>
      <c.body as |row|>
        <td>{{row.requestNumber}}</td>
        <td>{{row.offerNumber}}</td>
        <td>{{fmt-date row.orderDate}}</td>
        <td>{{row.offer.request.visitor}}</td>
        {{#if row.building}}
          <td>{{paper-icon "home"}}</td>
          <td>
            {{row.building.printName}}
            <span class="text-fade">(<PrintName @model={{row.customer}} />)</span>
          </td>
          <td>{{row.building.address1}}</td>
          <td>{{row.building.postalCode}}</td>
          <td>{{row.building.city}}</td>
        {{else}}
          <td>{{paper-icon "person"}}</td>
          <td><PrintName @model={{row.customer}} /></td>
          <td>{{row.customer.address1}}</td>
          <td>{{row.customer.postalCode}}</td>
          <td>{{row.customer.city}}</td>
        {{/if}}
      </c.body>
    </t.content>
  </DataTable>
</div>

{{liquid-outlet}}