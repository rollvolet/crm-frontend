<h2>Koppel klant aan aanvraag</h2>

{{#if linkCustomerToRequest.isRunning}}
  <div>
    <PaperProgressLinear />
    <p>Klant koppelen aan aanvraag...</p>
  </div>
{{else}}
  <Customer::DataTableFilter @number={{number}} @name={{name}} @street={{street}} @postalCode={{postalCode}} @city={{city}} @telephone={{telephone}} @onChange={{action "applyFilter"}} />

  <DataTable @content={{model}} @isLoading={{isLoadingModel}} @noDataMessage="Geen resultaten" @sort={{sort}} @page={{page}} @size={{size}} @onClickRow={{perform linkCustomerToRequest}} as |t|>
    <t.content as |c|>
      <c.header>
        <ThSortable @field="number" @currentSorting={{sort}} @label="Nr" />
        <ThSortable @field="name" @currentSorting={{sort}} @label="Naam" />
        <ThSortable @field="address" @currentSorting={{sort}} @label="Straat" />
        <ThSortable @field="postal-code" @currentSorting={{sort}} @label="Postcode" />
        <ThSortable @field="city" @currentSorting={{sort}} @label="Gemeente" />
      </c.header>
      <c.body as |row|>
        <td>{{row.number}}</td>
        <td><PrintName @model={{row}} /></td>
        <td>{{row.address1}}</td>
        <td>{{row.postalCode}}</td>
        <td>{{row.city}}</td>
      </c.body>
    </t.content>
  </DataTable>
{{/if}}

{{liquid-outlet}}