<div class="layout-row layout-align-space-between-center">
  <div class="layout-row layout-align-start-center">
    <h2>Aanvraag {{model.id}}</h2>
    {{#if editMode}}
      {{save-status-icon model=model task=save}}
    {{/if}}
  </div>
  <div>
    {{#if editMode}}
      {{#paper-button onClick=(perform remove) iconButton=true}}
        {{paper-icon "delete"}}
        {{#paper-tooltip}}Verwijderen{{/paper-tooltip}}
      {{/paper-button}}
      {{#paper-button onClick=(action "closeEdit") iconButton=true}}
        {{paper-icon "close"}}
        {{#paper-tooltip}}Sluiten{{/paper-tooltip}}
      {{/paper-button}}
    {{else}}
      {{#paper-button onClick=(action "openEdit") iconButton=true}}
        {{paper-icon "edit mode"}}
        {{#paper-tooltip}}Aanpassen{{/paper-tooltip}}
      {{/paper-button}}
      {{#paper-button onClick=(action "generateVisitReport") iconButton=true}}
        {{paper-icon "description"}}
        {{#paper-tooltip}}Bezoekrapport{{/paper-tooltip}}
      {{/paper-button}}
    {{/if}}
  </div>
</div>

{{#if editMode}}
  {{request-edit-form model=model save=save
      onContactChange=onContactChange onBuildingChange=onBuildingChange}}
{{else}}
  {{request-detail-panel model=model}}
{{/if}}

{{unsaved-changes-dialog show=showUnsavedChangesDialog onConfirm=(action "confirmCloseEdit")}}
