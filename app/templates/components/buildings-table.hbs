{{#liquid-unless selectedBuilding class="data-table-selection"}}
  <div class="data-table-filters">
    <div class="data-table-filters--title">{{paper-icon "search"}}</div>
    {{paper-input label="Nummer" value=number onChange=(action "setFilter" "number") class="small-input"}}
    {{paper-input label="Naam" value=name onChange=(action "setFilter" "name")}}
    {{paper-input label="Adres" value=street onChange=(action "setFilter" "street") class="large-input"}}
    {{paper-input label="Postcode" value=postalCode onChange=(action "setFilter" "postalCode") class="small-input"}}
    {{paper-input label="Gemeente" value=city onChange=(action "setFilter" "city")}}
    {{paper-input label="Telefoon" value=telephone onChange=(action "setFilter" "telephone")}}
    {{#paper-button iconButton=true onClick=(action "resetFilters")}}
      {{paper-icon "close"}}
      {{#paper-tooltip}}Verwijder filters{{/paper-tooltip}}
    {{/paper-button}}
  </div>

  {{#data-table content=buildings isLoading=(not search.isIdle) noDataMessage="Geen gebouwen"
       onClickRow=(action "selectBuilding") page=page size=size sort=sort as |t|}}
    {{#t.content as |c|}}
      {{#c.header}}
        {{th-sortable field='number' currentSorting=sort label='Nr'}}
        <th>Aanspreking</th>
        <th>Prefix</th>
        {{th-sortable field='name' currentSorting=sort label='Naam'}}
        {{th-sortable field='address' currentSorting=sort label='Adres'}}
        {{th-sortable field='postal-code' currentSorting=sort label='Postcode'}}
        {{th-sortable field='city' currentSorting=sort label='Gemeente'}}
        <th>Land</th>
        <th>Taal</th>
      {{/c.header}}
      {{#c.body as |row|}}
        <td>{{row.number}}</td>
        <td>{{row.honorificPrefix.name}}</td>
        <td>{{row.prefix}}</td>
        <td>{{row.name}}</td>
        <td>{{row.address}}</td>
        <td>{{row.postalCode}}</td>
        <td>{{row.city}}</td>
        <td>{{row.country.name}}</td>
        <td>{{row.language.name}}</td>
      {{/c.body}}
    {{/t.content}}
  {{/data-table}}
{{else}}
  <div class="resource-details">
    <div class="layout-row layout-align-space-between-center">
      <h4><span class="small-text-fade">[{{selectedBuilding.number}}]</span> {{selectedBuilding.printName}}</h4>
      {{#paper-button onClick=(action "deselectBuilding") iconButton=true}}{{paper-icon "close"}}{{/paper-button}}
    </div>
    <div class="layout-row">
      <div class="left-column">
        <div class="resource-details--section resource-details--section-name layout-row">
          <div class="category-icon">{{#if selectedBuilding.isCompany}}{{paper-icon "business"}}{{else}}{{paper-icon "home"}}{{/if}}</div>
          <div>
            {{#if selectedBuilding.printInFront}}{{selectedBuilding.honorificPrefix.name}}{{/if}}
            {{selectedBuilding.prefix}} {{selectedBuilding.name}} {{selectedBuilding.suffix}}
            {{#if (not selectedBuilding.printInFront)}}{{selectedBuilding.honorificPrefix.name}}{{/if}}
          </div>
        </div>
        <div class="resource-details--section resource-details--section-address layout-row">
          <div class="category-icon">{{paper-icon "location on"}}</div>
          <div>
            <div>{{selectedBuilding.address1}}</div>
            <div>{{selectedBuilding.address2}}</div>
            <div>{{selectedBuilding.address3}}</div>
            <div>{{selectedBuilding.postalCode}} {{selectedBuilding.city}}</div>
            <div>{{selectedBuilding.country.name}}</div>
          </div>
        </div>
        <div class="resource-details--section resource-details--section-language layout-row">
          <div class="category-icon">{{paper-icon "language"}}</div>
          <div>
            <div>{{selectedBuilding.language.name}}</div>
          </div>
        </div>
      </div>
      <div class="right-column">
        <div class="resource-details--section resource-details--section-telephone layout-row">
          <div class="category-icon">{{paper-icon "phone"}}</div>
          <div>
            {{#each selectedBuilding.telephones as |tel|}}
              <div>
                {{tel.telephoneType.name}}:
                {{format-phone (concat tel.country.telephonePrefix " " tel.fullNumber)}}
                {{#if tel.memo}}({{tel.memo}}){{/if}}
              </div>
            {{/each}}
          </div>
        </div>
        <div class="resource-details--section resource-details--section-contact layout-row">
          <div class="category-icon">{{paper-icon "mail outline"}}</div>
          <div>
            <div>{{selectedBuilding.email}}</div>
            <div>{{selectedBuilding.email2}}</div>
            <div>{{selectedBuilding.url}}</div>
          </div>
        </div>
      </div>
    </div>
    <div class="resource-details--section resource-details--section-comment layout-row">
      <div class="category-icon">{{paper-icon "comment"}}</div>
      <div>
        <div>{{#if selectedBuilding.comment}}{{selectedBuilding.comment}}{{else}}Geen opmerkingen{{/if}}</div>
      </div>
    </div>
  </div>
{{/liquid-unless}}